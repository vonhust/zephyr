# SPDX-License-Identifier: Apache-2.0

menuconfig IPM
	bool "Inter-Processor Mailbox (IPM) drivers"
	help
	  Include interrupt-based inter-processor mailboxes
	  drivers in system configuration

if IPM

config IPM_MHU
	bool "IPM MHU driver"
	default y
	depends on DT_HAS_ARM_MHU_ENABLED
	help
	  Driver for SSE 200 MHU (Message Handling Unit)

config IPM_NRFX
	bool "IPM NRF driver"
	default y
	depends on DT_HAS_NORDIC_NRF_IPC_ENABLED
	select NRFX_IPC
	help
	  Driver for Nordic nRF messaging unit, based
	  on nRF IPC peripheral HW.

config IPM_NRF_SINGLE_INSTANCE
	bool "Single instance of IPM device"
	help
	  Enable this option if the IPM device should have
	  a single instance, instead of one per IPC
	  message channel.

config ESP32_SOFT_IPM
	bool "ESP32 Software IPM driver"
	default y
	depends on DT_HAS_ESPRESSIF_ESP32_IPM_ENABLED
	help
	  Interprocessor driver for ESP32 when using AMP.

source "drivers/ipm/Kconfig.nrfx"
source "drivers/ipm/Kconfig.imx"
source "drivers/ipm/Kconfig.stm32"
source "drivers/ipm/Kconfig.intel_adsp"

config IPM_GIC_SGI
	bool "ARM GIC SGI driver"
	depends on GIC
	help
	  use ARM GIC SGI interrupt as IPM

if IPM_GIC_SGI

config IPM_GIC_SGI_INTNO
	int "Intno of SGI used for IPM"
	range 6 7
	default 7
	help
	  The intno of SGI used for IPM. For arm64, SGI can be used to
	  work as IPM

endif # IPM_GIC_SGI

module = IPM
module-str = ipm
source "subsys/logging/Kconfig.template.log_config"

endif #IPM
